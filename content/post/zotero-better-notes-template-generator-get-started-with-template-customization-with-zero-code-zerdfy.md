---
title: Zotero Better Notes æ¨¡æ¿ç”Ÿæˆå™¨ï¼šè®©æ¨¡æ¿å®šåˆ¶é›¶ä»£ç ä¸Šæ‰‹
slug: >-
  zotero-better-notes-template-generator-get-started-with-template-customization-with-zero-code-zerdfy
url: >-
  /post/zotero-better-notes-template-generator-get-started-with-template-customization-with-zero-code-zerdfy.html
date: '2025-11-08 00:29:43+08:00'
lastmod: '2025-11-08 01:23:18+08:00'
tags:
  - zotero
  - æ’ä»¶
  - å·¥å…·
categories:
  - å›¾æ–‡æ•™ç¨‹
  - æ•ˆç‡å·¥å…·
keywords: zotero,æ’ä»¶,å·¥å…·
description: >-
  æœ¬æ–‡ä»‹ç»äº†Zotero Better
  Notesæ¨¡æ¿ç”Ÿæˆå™¨çš„ä½¿ç”¨æ–¹æ³•ï¼Œè¯¥å·¥å…·é€šè¿‡å¯è§†åŒ–ç•Œé¢å®ç°ç¬”è®°æ¨¡æ¿çš„é›¶ä»£ç å®šåˆ¶ã€‚ç”¨æˆ·åªéœ€åœ¨ç½‘é¡µä¸Šé€‰æ‹©éœ€è¦çš„æ¨¡å—ï¼Œå¦‚æ ‡é¢˜ã€å…ƒæ•°æ®ã€æ ‡æ³¨ç« èŠ‚ç­‰ï¼Œå¹¶è®¾ç½®é¢œè‰²å’Œæ–‡å­—å†…å®¹ï¼Œå³å¯å®æ—¶é¢„è§ˆæ¨¡æ¿æ•ˆæœå¹¶ç”Ÿæˆå¯¹åº”çš„ä»£ç ã€‚ç”Ÿæˆçš„ä»£ç å¯ç›´æ¥å¤åˆ¶åˆ°Zoteroçš„Better
  Notesæ’ä»¶ä¸­ä¿å­˜ä½¿ç”¨ï¼Œä»è€Œå¿«é€Ÿåˆ›å»ºé«˜è´¨é‡çš„ç¬”è®°æ¨¡æ¿ã€‚è¯¥å·¥å…·åŸºäºBetter Notesç¤¾åŒºçš„æ¨¡æ¿æ”¹è¿›ï¼Œç®€åŒ–äº†æ¨¡æ¿å®šåˆ¶æµç¨‹ï¼Œæ–¹ä¾¿éæŠ€æœ¯ç”¨æˆ·é«˜æ•ˆåˆ©ç”¨ã€‚
toc: true
isCJKLanguage: true
---



![image](https://s2.loli.net/2025/11/08/vsVe6BNySRDThMx.png)

# Zotero Better Notes æ¨¡æ¿ç”Ÿæˆå™¨ï¼šè®©æ¨¡æ¿å®šåˆ¶é›¶ä»£ç ä¸Šæ‰‹

å¾ˆå¤š Zotero ç”¨æˆ·æƒ³è¦è‡ªå®šä¹‰ç¬”è®°æ¨¡æ¿ï¼Œå´è¢«å¤æ‚çš„ä»£ç åŠé€€ã€‚å› æ­¤åšäº†**Zotero ç¬”è®°æ¨¡æ¿ç”Ÿæˆå™¨ï¼ˆTemplate Generatorï¼‰**  å®ƒé€šè¿‡å¯è§†åŒ–ç•Œé¢ï¼Œ**æ— éœ€ç¼–å†™ä¸€è¡Œä»£ç **ï¼Œä¹Ÿèƒ½å¿«é€Ÿç”Ÿæˆé€‚é… Better Notes çš„é«˜è´¨é‡ç¬”è®°æ¨¡æ¿ã€‚

å·¥å…·ç½‘é¡µâ¡ï¸ï¼š[Zoteroç¬”è®°æ¨¡æ¿ç”Ÿæˆå™¨](https://stream-l.github.io/template-generator.html)

æ¼”ç¤ºè§†é¢‘â–¶ï¸ï¼š[Zotero ç¬”è®°æ¨¡æ¿ç”Ÿæˆå™¨:è®©æ¨¡æ¿å®šåˆ¶é›¶ä»£ç ä¸Šæ‰‹_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV1fAkXBJEA7)

ä¸‹å›¾â‘ é¡µé¢ä¸ºæ¨¡æ¿ç”Ÿæˆå™¨ï¼Œâ‘¡ä¸ºæ¨¡æ¿ç”Ÿæˆçš„é¢„è§ˆï¼Œä¼šæœ‰ä¸€äº›â€œ$"ä»£ç ï¼Œå¯¼å…¥Zoteroåä¼šè¢«æ›¿æ¢ï¼Œâ‘¢ä¸ºåœ¨Zoteroä¸­ç”Ÿæˆçš„ç¬”è®°é¢„è§ˆï¼Œä»£ç ä¼šè¢«æ–‡çŒ®ä¿¡æ¯æ›¿æ¢ï¼ŒæœŸåˆŠæ ‡ç­¾ä¼šæ˜¾ç¤ºåœ¨æœŸåˆŠåç§°å

![image](https://s2.loli.net/2025/11/08/vsVe6BNySRDThMx.png)

æ’ä»¶æ ¹æ®Better Notesè®¨è®ºåŒºæ¨¡æ¿æ”¹è¿›å¾—åˆ°

[windwind/zotero-better-notes ç¬”è®°æ¨¡æ¿ Â· è®¨è®º Â· GitHub](https://github.com/windingwind/zotero-better-notes/discussions/categories/note-templates)

### ğŸ§© æ ¸å¿ƒäº®ç‚¹

- **é›¶ä»£ç å®šåˆ¶**  
  é€šè¿‡ç®€å•çš„å‹¾é€‰ã€é¢œè‰²é€‰æ‹©ã€æ–‡å­—è¾“å…¥å³å¯å®Œæˆæ¨¡æ¿é…ç½®ï¼Œä¸éœ€è¦äº†è§£ä»»ä½• ç¼–ç çŸ¥è¯†ã€‚
- **å®æ—¶å¯è§†åŒ–ç”Ÿæˆ**  
  ç½‘é¡µä¼šå³æ—¶å±•ç¤ºæ¨¡æ¿ç»“æ„ï¼Œæ‰€è§å³æ‰€å¾—ï¼Œç”Ÿæˆä»£ç å¯ç›´æ¥å¤åˆ¶åˆ° Better Notes æ’ä»¶ä½¿ç”¨ã€‚

### ğŸ™‹å‡†å¤‡å·¥ä½œ

æå‰å®‰è£…Zotero + Better Notes æ’ä»¶

### ğŸš€ ä½¿ç”¨æµç¨‹

1. æ‰“å¼€ç½‘é¡µ ğŸ‘‰ [Zoteroç¬”è®°æ¨¡æ¿ç”Ÿæˆå™¨](https://stream-l.github.io/template-generator.html)
2. åœ¨ç•Œé¢ä¸­é€‰æ‹©ä½ æƒ³åŒ…å«çš„æ¨¡å—ï¼ˆæ ‡é¢˜ã€å…ƒæ•°æ®ã€æ ‡æ³¨ç« èŠ‚ç­‰ï¼‰
3. ç‚¹å‡» â€‹ **â€œç”Ÿæˆä»£ç â€** ï¼Œå¤åˆ¶ç»“æœ
4. å°†ä»£ç ç²˜è´´åˆ° Zotero â†’ Better Notes æ¨¡æ¿ç¼–è¾‘å™¨ä¸­ä¿å­˜å³å¯

ç¬¬4æ­¥å±•å¼€ç‰ˆï¼šæå‰åœ¨Zoteroé€‰ä¸­ä¸€ä¸ªæ–‡çŒ®ï¼Œæ‰“å¼€ ç¼–è¾‘> è®¾ç½® > Better Notes å‘ä¸‹æ»‘ æ¨¡æ¿ > æ¨¡æ¿ç¼–è¾‘å™¨

![image](https://s2.loli.net/2025/11/09/rYu8kjlI1M4WNRq.png)

![image](https://s2.loli.net/2025/11/09/JRqjFywkeEoDZ39.png)

ç‚¹å‡»ä¿å­˜æ¨¡æ¿åï¼Œå¦‚æœæˆåŠŸå³ä¾§é¢„è§ˆåŒºå°±ä¼šæ˜¾ç¤ºå…ˆå‰åœ¨Zoteroä¸­é€‰ä¸­çš„æ–‡çŒ®å¯¹åº”çš„ç¬”è®°æ•ˆæœ

ä¹Ÿå¯ä»¥æ¢ä¸€ä¸ªæ–‡çŒ®ï¼Œå†ç‚¹å‡»æ¨¡æ¿ç¼–è¾‘å™¨çš„ä¿å­˜ï¼Œè¿˜èƒ½åˆ·æ–°æ–°çš„æ–‡çŒ®çš„æ•ˆæœã€‚

ä¹‹åè¿˜ä¼šåœ¨Bç«™å·æ›´æ–°ç›¸å…³æ¼”ç¤ºå’Œæ•™ç¨‹ [æ–¯éš¹æœ¨Streamçš„ä¸ªäººç©ºé—´-æ–¯éš¹æœ¨Streamä¸ªäººä¸»é¡µ-å“”å“©å“”å“©è§†é¢‘](https://space.bilibili.com/14423730)

â€

### ğŸ¥±è”åŠ¨åŠŸèƒ½

#### Zotcard

å¦‚æœä½ å®‰è£…äº† **Zotcard** æ’ä»¶ï¼Œå¯ä»¥åœ¨ç”Ÿæˆç¬”è®°æ¨¡æ¿çš„ç¬”è®°æ ‡é¢˜è®¾ç½®è®¾ä¸º `## XXå¡` çš„æ ¼å¼ï¼Œè¿™æ ·èƒ½è¢«å¡ç‰‡ç®¡ç†å™¨è¯†åˆ«åˆ°

![image](https://s2.loli.net/2025/11/09/Bfa8igDmOK4v9Ue.png)

æ•ˆæœå¦‚å›¾ï¼š

![image](https://s2.loli.net/2025/11/09/gGKNqJXL6CiuZzp.png)

#### **Actions & Tags**

å¦‚æœä½ å®‰è£…äº†**Actions & Tags** æ’ä»¶ è¿˜å¯ä»¥å¢åŠ æ‰¹é‡æ·»åŠ ç¬”è®°æ¨¡æ¿çš„è„šæœ¬

![image](https://s2.loli.net/2025/11/09/PmOh7CL3zXABslN.png)

è®¾ç½®å¦‚å›¾ï¼Œå³å¯å¤šé€‰æ¡ç›®åæ‰¹é‡æ·»åŠ æ¨¡æ¿ç¬”è®°

![image](https://s2.loli.net/2025/11/09/v7SEiPKBOyTQGIW.png)

![image](https://s2.loli.net/2025/11/09/foL9OsJgIDYr4dp.png)

è‡ªå®šä¹‰è„šæœ¬ï¼š

```javascript
/**
 * @author Stream-L
 * è„šæœ¬åŠŸèƒ½ï¼šæ‰¹é‡ä¸ºå¤šä¸ªæ¡ç›®åŸºäºBetter Notesæ¨¡æ¿åˆ›å»ºå­ç¬”è®°
 * 
 * ä½¿ç”¨è¯´æ˜ï¼š
 * 1. å¤šé€‰æ¡ç›®ï¼ˆå¯ä»¥é€‰æ‹©å¤šä¸ªæ–‡çŒ®æ¡ç›®ï¼‰
 * 2. è¿è¡Œæ­¤è„šæœ¬
 * 3. ä»Better Notesçš„ï¼ˆæ¡ç›®ï¼‰æ¨¡æ¿åˆ—è¡¨ä¸­é€‰æ‹©ä¸€ä¸ªæ¨¡æ¿
 * 4. è„šæœ¬ä¼šä¸ºæ¯ä¸ªé€‰ä¸­çš„æ¡ç›®åˆ›å»ºä¸€ä¸ªåŸºäºæ¨¡æ¿çš„å­ç¬”è®°
 * 5. ç”Ÿæˆçš„ç¬”è®°å°†ä½œä¸ºå„è‡ªæ¡ç›®çš„å­ç¬”è®°ä¿å­˜
 */

if (item) return; // ä»…å¯¹æ‰€æœ‰é€‰ä¸­é¡¹æ‰§è¡Œä¸€æ¬¡

const Zotero = require("Zotero");
const window = require("window");
const console = require("console");

// è·å–é€‰ä¸­çš„é¡¹ç›®
let selectedItems = [];
if (typeof items !== "undefined" && items.length > 0) {
  selectedItems = items;
} else if (typeof item !== "undefined") {
  selectedItems = [item];
} else {
  window.alert("è¯·å…ˆé€‰æ‹©è¦å¤„ç†çš„æ¡ç›®");
  return;
}

// è¿‡æ»¤å‡ºæœ‰æ•ˆçš„æ¡ç›®ï¼ˆæ’é™¤ç¬”è®°å’Œé™„ä»¶ï¼‰
let validItems = selectedItems.filter(itm => itm.isRegularItem());

if (validItems.length === 0) {
  window.alert("è¯·é€‰æ‹©è‡³å°‘ä¸€ä¸ªæœ‰æ•ˆçš„æ–‡çŒ®æ¡ç›®ï¼ˆä¸èƒ½æ˜¯ç¬”è®°æˆ–é™„ä»¶ï¼‰");
  return;
}

console.log(`[INFO] é€‰ä¸­äº† ${validItems.length} ä¸ªæœ‰æ•ˆæ¡ç›®`);

// åˆ›å»ºè¿›åº¦çª—å£
let progressWindow = new Zotero.ProgressWindow({ closeOnClick: false });
progressWindow.changeHeadline(`æ‰¹é‡ç”Ÿæˆç¬”è®° (å…±${validItems.length}ä¸ªæ¡ç›®)`);
progressWindow.show();

/**
 * è·å–Better Notesçš„æ¨¡æ¿åˆ—è¡¨å¹¶è®©ç”¨æˆ·é€‰æ‹©
 */
async function selectTemplate() {
  try {
    // å°è¯•ä½¿ç”¨Better Notes APIè·å–æ¨¡æ¿
    const BetterNotes = Zotero.BetterNotes;
    if (!BetterNotes) {
      throw new Error("Better Notesæ’ä»¶æœªå®‰è£…æˆ–æœªå¯ç”¨");
    }
    
    // è·å–æ‰€æœ‰æ¨¡æ¿çš„é”®å
    const allTemplateKeys = BetterNotes.api.template.getTemplateKeys();
    
    if (!allTemplateKeys || allTemplateKeys.length === 0) {
      throw new Error("æœªæ‰¾åˆ°ä»»ä½•æ¨¡æ¿");
    }
    
    // åªä¿ç•™ [Item] ç±»å‹çš„æ¨¡æ¿ï¼ˆä¸åŒºåˆ†å¤§å°å†™ï¼‰
    const itemTemplateKeys = allTemplateKeys.filter(key => 
      key.toLowerCase().startsWith("[item]")
    );
    
    if (itemTemplateKeys.length === 0) {
      throw new Error("æœªæ‰¾åˆ°ä»»ä½• [Item] ç±»å‹çš„æ¨¡æ¿");
    }
    
    console.log(`[INFO] æ‰¾åˆ° ${itemTemplateKeys.length} ä¸ª [Item] ç±»å‹æ¨¡æ¿`);
    
    // æ„å»ºæ¨¡æ¿åˆ—è¡¨æ˜¾ç¤ºæ–‡æœ¬
    const templateList = itemTemplateKeys.map((key, idx) => `${idx + 1}. ${key}`).join('\n');
    
    // ä½¿ç”¨ prompt è®©ç”¨æˆ·è¾“å…¥æ•°å­—é€‰æ‹©
    const selection = window.prompt(
      `æ‰¾åˆ°ä»¥ä¸‹ [Item] ç±»å‹æ¨¡æ¿ï¼š\n\n${templateList}\n\nè¯·è¾“å…¥æ¨¡æ¿åºå·ï¼ˆ1-${itemTemplateKeys.length}ï¼‰ï¼š`
    );
    
    if (!selection) {
      return null;
    }
    
    const selectedIndex = parseInt(selection) - 1;
    if (isNaN(selectedIndex) || selectedIndex < 0 || selectedIndex >= itemTemplateKeys.length) {
      throw new Error("æ— æ•ˆçš„æ¨¡æ¿åºå·");
    }
    
    return itemTemplateKeys[selectedIndex];
    
  } catch (error) {
    console.error("é€‰æ‹©æ¨¡æ¿å¤±è´¥:", error);
    throw error;
  }
}

/**
 * ä¸ºå•ä¸ªæ¡ç›®åˆ›å»ºåŸºäºæ¨¡æ¿çš„ç¬”è®°
 */
async function createNoteForItem(parentItem, templateKey, itemIndex, totalItems) {
  const itemTitle = parentItem.getField("title") || "æ— æ ‡é¢˜";
  const progressIcon = 'chrome://zotero/skin/spinner-16px.png';
  const itemProgress = new progressWindow.ItemProgress(
    progressIcon, 
    `[${itemIndex}/${totalItems}] ${itemTitle.substring(0, 50)}`
  );
  
  try {
    itemProgress.setProgress(0);
    itemProgress.setText("â³ æ­£åœ¨åˆ›å»ºç¬”è®°...");
    
    // 1. åˆ›å»ºä¸€ä¸ªç©ºç¬”è®°ä½œä¸ºå­ç¬”è®°
    const noteItem = new Zotero.Item("note");
    noteItem.libraryID = parentItem.libraryID;
    noteItem.parentID = parentItem.id;
    await noteItem.saveTx();
    
    itemProgress.setProgress(30);
    itemProgress.setText("â³ æ­£åœ¨åº”ç”¨æ¨¡æ¿...");
    
    // 2. ä½¿ç”¨ Better Notes çš„æ¨¡æ¿å¼•æ“å¡«å……ç¬”è®°
    const BetterNotes = Zotero.BetterNotes;
    let templateHTML = '';
    
    try {
      // Item æ¨¡æ¿ - ä¼šè‡ªåŠ¨å¡«å……æ¡ç›®çš„å…ƒæ•°æ®å˜é‡
      templateHTML = await BetterNotes.api.template.runItemTemplate(templateKey, {
        itemIds: [parentItem.id],
        targetNoteId: noteItem.id,
      });
      
      itemProgress.setProgress(70);
      itemProgress.setText("â³ æ­£åœ¨å†™å…¥å†…å®¹...");
      
      // å°†æ¨¡æ¿ç»“æœæ’å…¥ç¬”è®°
      await BetterNotes.api.note.insert(noteItem, templateHTML, -1);
      
      // ä¿å­˜ç¬”è®°
      await noteItem.saveTx();
      
      itemProgress.setProgress(100);
      itemProgress.setText("âœ… ç¬”è®°åˆ›å»ºæˆåŠŸ");
      
      return { success: true, noteId: noteItem.id };
      
    } catch (error) {
      console.error(`åº”ç”¨æ¨¡æ¿å¤±è´¥ (æ¡ç›®: ${itemTitle}):`, error);
      
      // å¦‚æœç¬”è®°å·²åˆ›å»ºä½†æ¨¡æ¿åº”ç”¨å¤±è´¥ï¼Œåˆ é™¤ç¬”è®°
      if (noteItem.id) {
        try {
          await noteItem.eraseTx();
        } catch (e) {
          console.error("åˆ é™¤å¤±è´¥çš„ç¬”è®°æ—¶å‡ºé”™:", e);
        }
      }
      
      throw new Error(`åº”ç”¨æ¨¡æ¿å¤±è´¥: ${error.message}`);
    }
    
  } catch (error) {
    console.error(`ä¸ºæ¡ç›®åˆ›å»ºç¬”è®°å¤±è´¥ (${itemTitle}):`, error);
    itemProgress.setError();
    itemProgress.setText(`âŒ å¤±è´¥: ${error.message.substring(0, 50)}`);
    
    return { success: false, error: error.message };
  }
}

/**
 * ä¸»æµç¨‹
 */
async function main() {
  let selectedTemplateKey = null;
  
  try {
    // 1. è®©ç”¨æˆ·é€‰æ‹©æ¨¡æ¿
    console.log("[INFO] æ­£åœ¨åŠ è½½æ¨¡æ¿åˆ—è¡¨...");
    
    selectedTemplateKey = await selectTemplate();
    
    if (!selectedTemplateKey) {
      console.log("[INFO] ç”¨æˆ·å–æ¶ˆé€‰æ‹©æ¨¡æ¿");
      progressWindow.close();
      return;
    }
    
    console.log(`[INFO] ç”¨æˆ·é€‰æ‹©æ¨¡æ¿: ${selectedTemplateKey}`);
    
    // 2. æ‰¹é‡ä¸ºæ¯ä¸ªæ¡ç›®åˆ›å»ºç¬”è®°
    const results = {
      success: 0,
      failed: 0,
      errors: []
    };
    
    for (let i = 0; i < validItems.length; i++) {
      const currentItem = validItems[i];
      const result = await createNoteForItem(
        currentItem, 
        selectedTemplateKey, 
        i + 1, 
        validItems.length
      );
      
      if (result.success) {
        results.success++;
      } else {
        results.failed++;
        results.errors.push({
          title: currentItem.getField("title") || "æ— æ ‡é¢˜",
          error: result.error
        });
      }
      
      // çŸ­æš‚å»¶è¿Ÿï¼Œé¿å…è¿‡å¿«
      await new Promise(resolve => setTimeout(resolve, 100));
    }
    
    // 3. æ˜¾ç¤ºæ±‡æ€»ç»“æœ
    console.log("=".repeat(60));
    console.log("[å®Œæˆ] æ‰¹é‡ç”Ÿæˆç¬”è®°ä»»åŠ¡å®Œæˆ");
    console.log(`æˆåŠŸ: ${results.success} ä¸ª`);
    console.log(`å¤±è´¥: ${results.failed} ä¸ª`);
    
    if (results.errors.length > 0) {
      console.log("\nå¤±è´¥çš„æ¡ç›®:");
      results.errors.forEach((err, idx) => {
        console.log(`${idx + 1}. ${err.title}`);
        console.log(`   é”™è¯¯: ${err.error}`);
      });
    }
    console.log("=".repeat(60));
    
    // æ˜¾ç¤ºæœ€ç»ˆæ±‡æ€»
    const summaryIcon = results.failed === 0 ? 
      'chrome://zotero/skin/tick.png' : 
      'chrome://zotero/skin/cross.png';
    
    const summaryProgress = new progressWindow.ItemProgress(
      summaryIcon,
      `å®Œæˆï¼šæˆåŠŸ ${results.success} ä¸ªï¼Œå¤±è´¥ ${results.failed} ä¸ª`
    );
    summaryProgress.setProgress(100);
    
    progressWindow.startCloseTimer(5000);
    
  } catch (error) {
    console.error("[é”™è¯¯] æ‰¹é‡ç”Ÿæˆç¬”è®°å¤±è´¥:", error);
    
    const errorProgress = new progressWindow.ItemProgress(
      'chrome://zotero/skin/cross.png',
      "æ‰¹é‡ç”Ÿæˆå¤±è´¥"
    );
    errorProgress.setError();
    errorProgress.setText(`âŒ ${error.message}`);
    
    progressWindow.startCloseTimer(5000);
  }
}

// æ‰§è¡Œä¸»æµç¨‹
main();

```
